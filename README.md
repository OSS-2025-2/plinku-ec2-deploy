# 🧩 OSS 2025-2 주차 문제 해결 플랫폼 - Backend

> OSS 프로젝트 주차 문제 해결 플랫폼 PlinkU의 백엔드 레포지토리입니다.
---

## 📘 프로젝트 개요

이 레포지토리는 OSS 2025-2 수업의 **주차 문제 해결 플랫폼 백엔드**을 위한 저장소입니다.
주요 기능은 다음과 같습니다.

* 사용자 회원가입 및 로그인
* 주차장 안내
* 전기차 충전소 안내
* 주차장 마켓 플레이스

---

## ⚙️ 기술 스택

| 분류        | 기술                                |
| :-------- | :-------------------------------- |
| Language  | Python 3.12                       |
| Framework | Flask                             |
| Database  | SQLite |
| ORM       | SQLAlchemy                        |
| Auth      | JWT                               |
| API       | RESTful 구조                        |

---

## 📂 프로젝트 구조

```
/BE

```

---


## 설치 및 실행

### 1. 가상환경 생성 (선택사항)
```bash
python -m venv venv
source venv/bin/activate  # Windows: venv\Scripts\activate
```

### 2. 의존성 설치
```bash
pip install -r requirements.txt
```

### 3. 서버 실행
```bash
python app.py
```

서버는 `http://localhost:5000`에서 실행됩니다.

## API 엔드포인트

### 인증
- `POST /api/signup` - 회원가입
- `POST /api/login` - 로그인
- `POST /api/logout` - 로그아웃

### 주차장
- `GET /api/parking-spots` - 주차장 목록 조회
- `GET /api/parking-spots/<id>` - 주차장 상세 조회
- `POST /api/parking-spots` - 주차장 등록 (인증 필요)
- `PUT /api/parking-spots/<id>` - 주차장 수정 (인증 필요)
- `DELETE /api/parking-spots/<id>` - 주차장 삭제 (인증 필요)
- `GET /api/my-parking-spots` - 내 주차장 목록 (인증 필요)

### 즐겨찾기
- `GET /api/favorites` - 즐겨찾기 목록 (인증 필요)
- `POST /api/favorites/<spot_id>` - 즐겨찾기 추가 (인증 필요)
- `DELETE /api/favorites/<spot_id>` - 즐겨찾기 삭제 (인증 필요)

### 충전소
- `GET /api/ev-stations` - 충전소 목록 조회
- `GET /api/ev-stations/<id>` - 충전소 상세 조회

### 예약
- `POST /api/reservations` - 예약 생성 (인증 필요)
- `GET /api/reservations/<id>` - 예약 상세 조회 (인증 필요)

### 커뮤니티
- `GET /api/posts` - 게시글 목록
- `GET /api/posts/<id>` - 게시글 상세
- `POST /api/posts` - 게시글 작성 (인증 필요)
- `PUT /api/posts/<id>` - 게시글 수정 (인증 필요)
- `DELETE /api/posts/<id>` - 게시글 삭제 (인증 필요)
- `GET /api/my-posts` - 내 게시글 목록 (인증 필요)
- `POST /api/posts/<id>/comments` - 댓글 작성 (인증 필요)

## 구현된 알고리즘/자료구조

### Dictionary, Set 자료구조 활용
- **해시 기반 조회(O(1))**: ParkingSpot, User 등 빠른 조회 구조 설계
- **중복 제거(set)**: 주차장 타입, EV 여부 필터 등에서 중복 없는 집합 처리
- **dict comprehension**: JSON 변환 시 빠르고 간결하게 response 구성
- **set operations(교집합/합집합/차집합)**: 필터 기능(예: EV+빈자리+근처거리)에 응용

### Sequence 기반 구조
- **__getitem__으로 반복 가능 객체 만들기**: ParkingSpotList 클래스로 DB 모델 결과를 커스텀 리스트처럼 구현
- **슬라이싱 지원**: Pagination 내부 구조를 커스텀 시퀀스로 구현
- **__contains__ 오버라이드**: 특정 ID 포함 여부 같은 로직 최적화

### 파이썬 기본 자료형
- **리스트(list)**: 순서 있는 가변 컬렉션 → 주차장 목록, 댓글 목록, 즐겨찾기 리스트 저장
- **튜플(tuple)**: 순서 있지만 불변 → (위도, 경도) 같은 변경되면 안 되는 묶음에 사용
- **딕셔너리(dict)**: key → value 매핑 → 주차장 한 개의 상세 정보를 한 번에 표현
- **집합(set)**: 중복 없는 값의 모음 → 이미 예약된 차량번호, 차단된 유저 id 등 "중복 체크"에 사용
- **2차원 리스트**: 리스트 안에 리스트 → 주차구역 그리드, 좌석/구획 배치 같은 표 형태 데이터
- **리스트 컴프리헨션**: 한 줄로 리스트 생성 → 더미데이터, id 목록, 필터링 결과 만드는 데 사용
- **슬라이싱**: list[a:b] 잘라 쓰기 → 페이징, 일부 구간만 보여줄 때 재활용

### 객체 참조 / 가변성
- **가변 객체(mutable object)**: 리스트, 딕셔너리처럼 내부 상태 변경 가능 → 함수 기본값으로 쓰면 안 되는 타입
- **불변 객체(immutable object)**: 튜플, 문자열처럼 변경 불가 → 안전하게 키, 캐시, dict 키로 사용

### 퍼스트 클래스 함수 / 함수형 요소
- **일급 객체(first-class function)**: 함수를 변수처럼 저장, 인자로 넘기고, 반환값으로 돌려줄 수 있음
- **고차 함수(higher-order function)**: 함수를 받거나 반환하는 함수 → 공통 로직 래핑, 미들웨어 느낌으로 사용
- **익명 함수(lambda)**: 한 줄짜리 작은 함수 → 정렬 기준, 간단 필터 조건에 사용
- **map / filter / reduce 대체**: 리스트 컴프리헨션 + generator로 깔끔하게 데이터 변환/필터링

### 데코레이터 / 클로저
- **클로저(closure)**: 함수 안에서 외부 변수 캡처해서 상태를 기억하는 함수
- **함수 데코레이터(function decorator)**: 다른 함수를 감싸서 기능을 추가하는 함수 → 인증 체크, 로깅, 실행 시간 측정, 트랜잭션 처리 같은 공통 기능에 바로 적용
- **등록용 데코레이터(registration decorator)**: 어떤 함수들을 자동으로 레지스트리에 모아두는 패턴 → "이벤트 핸들러 목록", "프로모션 전략 목록"처럼 플러그인 모으는 데 사용

### 스택 / 큐
- **스택(Stack)**: LIFO 구조 → 이전 페이지/이전 검색 조건 되돌리기(undo), 깊이우선 탐색 같은 데 사용
- **우선순위 큐(Priority Queue)**: 우선순위 높은 작업 먼저 처리 → 혼잡도 높은 주차장/긴급 요청 먼저 처리하는 로직에 응용

### 시퀀스 관련 실수/주의 포인트
- **슬라이스에 할당 / del**: 슬라이싱을 이용해 중간 구간 삭제/치환 → 페이징 결과에서 특정 구간 제거, 다수 레코드 한번에 교체에 응용

## 코드 주석

코드 내에서 사용된 알고리즘/자료구조는 주석으로 표시되어 있습니다:
- `# Dictionary 기반 조회(O(1))` - 해시 기반 빠른 조회
- `# Set 기반 중복 제거` - 중복 없는 집합 처리
- `# 리스트 컴프리헨션` - 한 줄로 리스트 생성
- `# Dictionary comprehension` - 빠르고 간결한 response 구성
- `# 슬라이싱` - 페이징 처리
- `# 고차 함수` - 공통 로직 래핑
- `# 데코레이터` - 인증 체크 등 공통 기능
- `# 클로저` - 외부 변수 캡처
- `# 스택` - 이전 페이지 되돌리기
- `# 우선순위 큐` - 우선순위 높은 작업 먼저 처리

## 🧾 커밋 컨벤션

### 1. 형식

```
type: subject
body
footer
```

---

### 2. Commit Type

| 타입           | 설명                      |
| :----------- | :---------------------- |
| **feat**     | 새로운 기능 추가               |
| **fix**      | 버그 수정                   |
| **docs**     | 문서 수정                   |
| **style**    | 코드 포맷 변경 (세미콜론, 들여쓰기 등) |
| **refactor** | 코드 리팩토링                 |
| **test**     | 테스트 코드 추가 및 수정          |
| **chore**    | 빌드 업무, 패키지 매니저 수정 등     |

---

### 3. Subject 작성 규칙

* 제목은 **50자 이하**, 마침표나 특수기호 사용 ❌
* 영어는 **동사 원형 + 대문자 시작** (ex. `Add`, `Fix`, `Modify`)
* **개조식 구문**으로 작성

**예시**

```
Fixed → Fix
Added → Add
Modified → Modify
```

---

### 4. Body 작성 규칙

* 변경 사항을 **무엇을 / 왜** 변경했는지 중심으로 작성
* 분량 제한 없음 (최대한 구체적으로 작성)

---

### 5. Footer (Option)

* 이슈 트래커 ID를 명시
* 형식: `유형: #이슈번호`
* 여러 개 작성 시 쉼표(,)로 구분

| 유형              | 설명           |
| :-------------- | :----------- |
| **Fixes:**      | 이슈 수정 중      |
| **Resolves:**   | 이슈 해결 완료     |
| **Ref:**        | 참고용 이슈       |
| **Related to:** | 관련된 이슈 (미해결) |

**예시**

```
Feat: "회원 가입 기능 구현"

SMS, 이메일 중복확인 API 개발

Resolves: #123
Ref: #456
Related to: #48, #45
```

---

## 🌿 브랜치 전략

| 브랜치               | 용도        |
| :---------------- | :-------- |
| **main**          | 배포용 안정 버전 |
| **develop**       | 통합 개발 브랜치 |
| **feature/***기능명* | 기능 단위 개발  |
| **fix/***이슈명*     | 버그 수정용    |

---

## 👥 기여자

| 이름  | 역할              |
| :-- | :-------------- |
| 김성민 | 백엔드 개발          |
| 임민우 | 백엔드 개발  |
| 정용성 | 백엔드 개발 |

---
