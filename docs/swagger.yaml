openapi: 3.0.3
info:
  title: Parking API
  version: 1.0.0
  description: 주차장/충전소 탐색 API
servers:
  - url: http://localhost:5000
    description: Local server

paths:
  /api/parkings:
    get:
      summary: 주차장/충전소 목록 조회
      description: |
        주차장과 EV 충전소 정보를 조회합니다.
        필터링, 정렬, 페이지네이션을 지원합니다.
      parameters:
        - name: page
          in: query
          description: 페이지 번호 (기본값: 1)
          required: false
          schema:
            type: integer
            default: 1
        - name: size
          in: query
          description: 페이지 당 항목 수 (기본값: 10)
          required: false
          schema:
            type: integer
            default: 10
        - name: sort
          in: query
          description: 정렬 기준 (distance_km 등)
          required: false
          schema:
            type: string
            default: distance_km
        - name: order
          in: query
          description: 정렬 방향 (asc / desc)
          required: false
          schema:
            type: string
            enum: [asc, desc]
            default: asc
        - name: congestion
          in: query
          description: 혼잡도 필터 (low, medium, high)
          required: false
          schema:
            type: string
            enum: [low, medium, high]
        - name: ev_charger
          in: query
          description: EV 충전소 필터 (true/false)
          required: false
          schema:
            type: string
            enum: [true, false]
        - name: keyword
          in: query
          description: 이름 또는 주소 검색 키워드
          required: false
          schema:
            type: string
            default: ""
      responses:
        '200':
          description: 성공적으로 조회됨
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    example: success
                  message:
                    type: string
                    example: parking 정보를 불러왔습니다.
                  data:
                    type: object
                    properties:
                      type:
                        type: string
                        example: parking
                      total_count:
                        type: integer
                        example: 25
                      page:
                        type: integer
                        example: 1
                      size:
                        type: integer
                        example: 10
                      results:
                        type: array
                        items:
                          type: object
                          properties:
                            parking_id:
                              type: integer
                              example: 1
                            parking_name:
                              type: string
                              example: 국립한밭대학교
                            address:
                              type: string
                              example: 대전광역시 유성구 대학로 125
                            price_per_hour:
                              type: integer
                              example: 1500
                            total_spots:
                              type: integer
                              example: 10
                            available_spots:
                              type: integer
                              example: 3
                            distance_km:
                              type: number
                              format: float
                              example: 0.5
                            congestion:
                              type: string
                              example: low
                            ev_charger:
                              type: boolean
                              example: true
        '400':
          description: 잘못된 요청
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    example: fail
                  message:
                    type: string
                    example: 잘못된 요청입니다.
